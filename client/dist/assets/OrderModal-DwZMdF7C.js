import{c as C,j as e,X as r}from"./index-BMjTxWI5.js";import{B as t}from"./Button-D0cEhXue.js";import{f as B}from"./formatters-DNE1yS1Z.js";import{f as i}from"./dateUtils-S97u1aLj.js";import{E as T}from"./eye-Bw0ziA_o.js";import{C as m}from"./check-DLZoD-Wd.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L=C("user-check",S),V="_orderDetails_f39dp_1",y="_detailsGrid_f39dp_9",A="_column_f39dp_23",H="_detailSection_f39dp_35",D="_sectionTitle_f39dp_49",g="_detailItem_f39dp_67",z="_detailLabel_f39dp_91",w="_detailValue_f39dp_103",M="_amount_f39dp_117",$="_statusBadge_f39dp_129",P="_success_f39dp_147",G="_warning_f39dp_159",E="_error_f39dp_171",q="_info_f39dp_183",F="_actionSection_f39dp_199",O="_actionHeader_f39dp_217",U="_actionSubtitle_f39dp_225",X="_modalActions_f39dp_237",J="_approveBtn_f39dp_253",K="_verifyBtn_f39dp_275",Q="_completeBtn_f39dp_297",R="_rejectBtn_f39dp_319",W="_forceCompleteBtn_f39dp_341",Y="_secondaryBtn_f39dp_365",Z="_infoSection_f39dp_389",ee="_infoHeader_f39dp_407",se="_rentalInfo_f39dp_415",ae="_rentalItem_f39dp_427",ce="_rentalLabel_f39dp_445",te="_rentalValue_f39dp_455",ne="_completedInfo_f39dp_467",le="_cancelledInfo_f39dp_467",ie="_checkSection_f39dp_489",de="_checkInfo_f39dp_503",oe="_checkDetails_f39dp_517",re="_checkName_f39dp_529",me="_checkHint_f39dp_541",he="_checkActions_f39dp_551",pe="_noCheck_f39dp_563",_e="_noCheckText_f39dp_583",xe="_noCheckTitle_f39dp_595",fe="_noCheckHint_f39dp_607",je="_completedText_f39dp_627",Ne="_cancelledText_f39dp_627",s={orderDetails:V,detailsGrid:y,column:A,detailSection:H,sectionTitle:D,detailItem:g,detailLabel:z,detailValue:w,amount:M,statusBadge:$,success:P,warning:G,error:E,info:q,actionSection:F,actionHeader:O,actionSubtitle:U,modalActions:X,approveBtn:J,verifyBtn:K,completeBtn:Q,rejectBtn:R,forceCompleteBtn:W,secondaryBtn:Y,infoSection:Z,infoHeader:ee,rentalInfo:se,rentalItem:ae,rentalLabel:ce,rentalValue:te,completedInfo:ne,cancelledInfo:le,checkSection:ie,checkInfo:de,checkDetails:oe,checkName:re,checkHint:me,checkActions:he,noCheck:pe,noCheckText:_e,noCheckTitle:xe,noCheckHint:fe,completedText:je,cancelledText:Ne},Te=({order:a,onApprove:h,onReject:d,onVerifyUser:p,onComplete:_,onDownloadCheck:x,loading:n=!1})=>{if(!a)return null;const f=c=>({pending:"warning",paid:"info",verified:"info",active:"success",completed:"success",cancelled:"error"})[c]||"secondary",j=c=>({pending:"Ожидание",paid:"Оплачен",active:"Активен",verified:"Проверка пользователя",completed:"Завершен",cancelled:"Отменен"})[c]||c,N=c=>({balance:"Баланс",bank_transfer:"Банковский перевод",crypto:"Криптовалюта"})[c]||c,u=c=>({pending:"Заказ ожидает подтверждения администратором",paid:"Заказ оплачен, требуется проверка пользователя",verified:"Пользователь проверен, можно выдавать аккаунт",active:"Аренда активна, можно принудительно завершить",completed:"Заказ завершен",cancelled:"Заказ отменен"})[c]||"Управление заказом",v=c=>{const l=new Date,o=new Date(c)-l;if(o<=0)return"Время истекло";const I=Math.floor(o/(1e3*60*60)),b=Math.floor(o%(1e3*60*60)/(1e3*60));return`${I}ч ${b}м`},k=c=>{switch(c.status){case"pending":return e.jsxs(e.Fragment,{children:[e.jsxs(t,{className:s.approveBtn,size:"small",onClick:()=>h(c.id),loading:n,children:[e.jsx(m,{size:14}),"Принять"]}),e.jsxs(t,{className:s.rejectBtn,size:"small",onClick:()=>d(c.id),loading:n,children:[e.jsx(r,{size:14}),"Отклонить"]})]});case"paid":return e.jsxs(t,{className:s.verifyBtn,size:"small",onClick:()=>p(c.id),loading:n,children:[e.jsx(L,{size:14}),"Проверить пользователя"]});case"verified":return e.jsxs(e.Fragment,{children:[e.jsxs(t,{className:s.completeBtn,size:"small",onClick:()=>_(c.id),loading:n,children:[e.jsx(m,{size:14}),"Выдать аккаунт"]}),e.jsxs(t,{className:s.rejectBtn,size:"small",onClick:()=>d(c.id),loading:n,children:[e.jsx(r,{size:14}),"Отклонить"]})]});case"active":return e.jsx(t,{className:s.rejectBtn,size:"small",onClick:()=>d(c.id),loading:n,children:"Принудительно завершить аренду"});default:return null}};return e.jsxs("div",{className:s.orderDetails,children:[e.jsxs("div",{className:s.detailsGrid,children:[e.jsxs("div",{className:s.column,children:[e.jsxs("div",{className:s.detailSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Основная информация"}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"ID заказа:"}),e.jsxs("span",{className:s.detailValue,children:["#",a.id]})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Статус:"}),e.jsx("span",{className:`${s.statusBadge} ${s[f(a.status)]}`,children:j(a.status)})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Стоимость:"}),e.jsx("span",{className:`${s.detailValue} ${s.amount}`,children:B(a.amount)})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Период аренды:"}),e.jsxs("span",{className:s.detailValue,children:[a.rentPeriod," часов"]})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Номер аккаунта:"}),e.jsx("span",{className:s.detailValue,children:a.accountId?`#${a.account?.account_number}`:"Не назначен"})]})]}),e.jsxs("div",{className:s.detailSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Информация о пользователе"}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Пользователь:"}),e.jsx("span",{className:s.detailValue,children:a.user?.email||"Неизвестно"})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"ID пользователя:"}),e.jsxs("span",{className:s.detailValue,children:["#",a.userId]})]}),a.userNameInPlatform&&e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Имя в платформе:"}),e.jsx("span",{className:s.detailValue,children:a.userNameInPlatform})]}),a.verificationPlatform&&e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Платформа верификации:"}),e.jsx("span",{className:s.detailValue,children:a.verificationPlatform})]})]})]}),e.jsxs("div",{className:s.column,children:[e.jsxs("div",{className:s.detailSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Временные метки"}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Создан:"}),e.jsx("span",{className:s.detailValue,children:i(a.createdAt)})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Обновлен:"}),e.jsx("span",{className:s.detailValue,children:a.updatedAt?i(a.updatedAt):"—"})]}),a.startsAt&&e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Начало аренды:"}),e.jsx("span",{className:s.detailValue,children:i(a.startsAt)})]}),a.expiresAt&&e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Окончание аренды:"}),e.jsx("span",{className:s.detailValue,children:i(a.expiresAt)})]})]}),e.jsxs("div",{className:s.detailSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Платежная информация"}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"Метод оплаты:"}),e.jsx("span",{className:s.detailValue,children:N(a.paymentMethod)})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx("span",{className:s.detailLabel,children:"ID транзакции:"}),e.jsx("span",{className:s.detailValue,children:a.transactionId?`#${a.transactionId}`:"—"})]})]}),a.check&&e.jsxs("div",{className:s.detailSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Чек об оплате"}),a.check?e.jsxs("div",{className:s.checkSection,children:[e.jsx("div",{className:s.checkInfo,children:e.jsxs("div",{className:s.checkDetails,children:[e.jsx("span",{className:s.checkName,children:a.check}),e.jsx("span",{className:s.checkHint,children:"Файл подтверждения оплаты"})]})}),e.jsx("div",{className:s.checkActions,children:e.jsxs(t,{variant:"primary",size:"small",onClick:()=>x(a.check),children:[e.jsx(T,{size:16}),"Скачать чек"]})})]}):e.jsx("div",{className:s.noCheck,children:e.jsxs("div",{className:s.noCheckText,children:[e.jsx("span",{className:s.noCheckTitle,children:"Чек не предоставлен"}),e.jsx("span",{className:s.noCheckHint,children:"Пользователь не прикрепил чек об оплате"})]})})]})]})]}),e.jsxs("div",{className:s.actionSection,children:[e.jsxs("div",{className:s.actionHeader,children:[e.jsx("h3",{className:s.sectionTitle,children:"Управление заказом"}),e.jsx("p",{className:s.actionSubtitle,children:u(a.status)})]}),e.jsx("div",{className:s.modalActions,children:k(a)})]}),a.status==="active"&&a.expiresAt&&e.jsxs("div",{className:s.infoSection,children:[e.jsx("div",{className:s.infoHeader,children:e.jsx("h3",{className:s.sectionTitle,children:"Текущая аренда"})}),e.jsxs("div",{className:s.rentalInfo,children:[e.jsxs("div",{className:s.rentalItem,children:[e.jsx("span",{className:s.rentalLabel,children:"Осталось времени:"}),e.jsx("span",{className:s.rentalValue,children:v(a.expiresAt)})]}),e.jsxs("div",{className:s.rentalItem,children:[e.jsx("span",{className:s.rentalLabel,children:"Автоматическое завершение:"}),e.jsx("span",{className:s.rentalValue,children:i(a.expiresAt)})]})]})]})]})};export{Te as O};
