import{j as i,m as r,o as d,r as n,C as m,u as p,R as _}from"./index-C-KVzDfL.js";import{B as c}from"./Button-DNnCRmfV.js";import{M as u}from"./mail-DnZIebeP.js";import{R as v}from"./refresh-cw-CaBBi8MH.js";const x="_activationNotice_peaka_1",h="_icon_peaka_11",j="_title_peaka_35",N="_description_peaka_49",R="_email_peaka_61",k="_instructions_peaka_75",f="_actions_peaka_87",y="_resendBtn_peaka_101",A="_tips_peaka_115",e={activationNotice:x,icon:h,title:j,description:N,email:R,instructions:k,actions:f,resendBtn:y,tips:A},B=({email:s,onResend:t})=>{const a=()=>{t?.()};return i.jsxs(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:e.activationNotice,children:[i.jsx("div",{className:e.icon,children:i.jsx(u,{size:48})}),i.jsx("h2",{className:e.title,children:"Подтвердите ваш email"}),i.jsx("p",{className:e.description,children:"Мы отправили письмо с ссылкой для активации на адрес:"}),i.jsx("p",{className:e.email,children:s}),i.jsx("p",{className:e.instructions,children:"Перейдите по ссылке в письме, чтобы активировать ваш аккаунт и начать пользоваться сервисом."}),i.jsxs("div",{className:e.actions,children:[i.jsxs(c,{variant:"secondary",onClick:a,className:e.resendBtn,children:[i.jsx(v,{size:16}),"Отправить письмо повторно"]}),i.jsx(c,{variant:"primary",onClick:()=>window.location.reload(),children:"Я подтвердил email"})]}),i.jsxs("div",{className:e.tips,children:[i.jsx("h4",{children:"Не получили письмо?"}),i.jsxs("ul",{children:[i.jsx("li",{children:'Проверьте папку "Спам"'}),i.jsx("li",{children:"Убедитесь, что email указан правильно"}),i.jsx("li",{children:"Подождите несколько минут"})]})]})]})},C="_activationRequired_s5w96_1",q="_container_s5w96_17",o={activationRequired:C,container:q},z=d(()=>{const{store:s}=n.useContext(m),t=p();n.useEffect(()=>{s.user?.isActivated&&t(_.HOME,{replace:!0})},[s.user?.isActivated,t]);const a=async()=>{try{console.log("Activation email resent to:",s.user?.email)}catch(l){console.error("Failed to resend activation:",l)}};return s.user?.isActivated?null:i.jsx("div",{className:o.activationRequired,children:i.jsx(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:o.container,children:i.jsx(B,{email:s.user?.email,onResend:a})})})});export{z as default};
