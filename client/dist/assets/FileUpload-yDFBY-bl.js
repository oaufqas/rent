import{c as b,r as p,j as e,m as d,X as M}from"./index-BMjTxWI5.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],D=b("file",k);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],v=b("upload",S),U="_fileUpload_91bph_1",A="_label_91bph_9",F="_required_91bph_25",R="_hiddenInput_91bph_35",q="_uploadArea_91bph_43",P="_uploadContent_91bph_73",E="_uploadIcon_91bph_87",L="_uploadText_91bph_95",O="_uploadTitle_91bph_107",$="_uploadSubtitle_91bph_121",H="_fileInfo_91bph_133",W="_fileContent_91bph_147",G="_preview_91bph_159",K="_imagePreview_91bph_175",V="_fileDetails_91bph_187",X="_fileName_91bph_197",J="_fileSize_91bph_217",Q="_removeButton_91bph_229",Y="_error_91bph_269",Z="_hint_91bph_289",t={fileUpload:U,label:A,required:F,hiddenInput:R,uploadArea:q,uploadContent:P,uploadIcon:E,uploadText:L,uploadTitle:O,uploadSubtitle:$,fileInfo:H,fileContent:W,preview:G,imagePreview:K,fileDetails:V,fileName:X,fileSize:J,removeButton:Q,error:Y,hint:Z},te=({label:u,accept:r="image/*,.pdf,.doc,.docx",onFileChange:h,required:j=!1,maxSize:c=5*1024*1024,multiple:N=!1})=>{const[n,_]=p.useState(null),[f,i]=p.useState(""),o=p.useRef(null),m=s=>{if(i(""),s.size>c){i(`Файл слишком большой. Максимальный размер: ${c/1024/1024}MB`);return}const a=s.name.split(".").pop().toLowerCase();if(!r.split(",").map(l=>l.trim()).some(l=>{if(l.includes("/*")){const B=l.split("/")[0];return s.type.startsWith(B)}return s.type===l||`.${a}`===l})){i("Неподдерживаемый формат файла");return}_(s),h?.(s)},g=s=>{s.preventDefault();const a=s.dataTransfer.files[0];a&&m(a)},y=s=>{s.preventDefault()},I=s=>{const a=s.target.files[0];a&&m(a)},w=()=>{_(null),i(""),h?.(null),o.current&&(o.current.value="")},C=()=>{o.current?.click()},z=()=>n?n.type.startsWith("image/")?e.jsx("div",{className:t.preview,children:e.jsx("img",{src:URL.createObjectURL(n),alt:"Preview",className:t.imagePreview})}):e.jsx(D,{size:24}):e.jsx(v,{size:24}),T=s=>{if(s===0)return"0 Bytes";const a=1024,x=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,l)).toFixed(2))+" "+x[l]};return e.jsxs("div",{className:t.fileUpload,children:[u&&e.jsxs("label",{className:t.label,children:[u,j&&e.jsx("span",{className:t.required,children:"*"})]}),e.jsx("input",{ref:o,type:"file",accept:r,onChange:I,className:t.hiddenInput,multiple:N}),n?e.jsx(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:t.fileInfo,children:e.jsxs("div",{className:t.fileContent,children:[z(),e.jsxs("div",{className:t.fileDetails,children:[e.jsx("p",{className:t.fileName,children:n.name}),e.jsx("p",{className:t.fileSize,children:T(n.size)})]}),e.jsx("button",{type:"button",onClick:w,className:t.removeButton,children:e.jsx(M,{size:16})})]})}):e.jsx(d.div,{className:t.uploadArea,onClick:C,onDrop:g,onDragOver:y,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:t.uploadContent,children:[e.jsx(v,{size:32,className:t.uploadIcon}),e.jsxs("div",{className:t.uploadText,children:[e.jsx("p",{className:t.uploadTitle,children:"Нажмите для загрузки файла"}),e.jsx("p",{className:t.uploadSubtitle,children:"или перетащите его сюда"})]})]})}),f&&e.jsx(d.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:t.error,children:f}),e.jsxs("p",{className:t.hint,children:["Поддерживаемые форматы: ",r.replace(/\*/g,""),e.jsx("br",{}),"Максимальный размер: ",c/1024/1024,"MB"]})]})};export{te as F};
