import{k as a}from"./index-C-KVzDfL.js";import{a as e}from"./AccountService-BxV9YHVG.js";class i{accounts=[];account={};loading=!1;filters={bape:!1,crewUniform:!1,more300mif:!1};constructor(){a(this)}setLoading(t){this.loading=t}setAccount(t){this.account=t}setFilters=async t=>{this.filters={...this.filters,...t},await this.fetchAccounts(this.filters)};clearFilters=async()=>{this.filters={bape:!1,crewUniform:!1,more300mif:!1},await this.fetchAccounts()};setAccounts(t){Array.isArray(t)?this.accounts=t:t&&Array.isArray(t.rows)?this.accounts=t.rows:t&&Array.isArray(t.data)?this.accounts=t.data:this.accounts=[]}fetchAccounts=async(t={})=>{this.setLoading(!0);try{const r=this.prepareFiltersForServer(t),s=await e.getAccounts(r);this.setAccounts(s.data)}catch(r){console.error("Error fetching accounts:",r)}finally{this.setLoading(!1)}};prepareFiltersForServer(t){const r={};return t.bape&&(r.bape=!0),t.crewUniform&&(r.crewUniform=!0),t.more300mif&&(r.more300mif=!0),r}fetchAccount=async t=>{this.setLoading(!0);try{const r=await e.getAccount(t);return this.setAccount(r.data),r.data}catch(r){throw console.error("Error fetching account:",r),r}finally{this.setLoading(!1)}}}const f=new i;export{f as a};
