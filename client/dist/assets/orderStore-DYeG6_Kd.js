import{$ as s,k as n}from"./index-BMjTxWI5.js";const o={getMyOrders:()=>s.get("/orders/my"),createOrder:t=>s.post("/orders",t),cancelOrder:t=>s.put(`/orders/${t}/cancel`)};class c{orders=[];currentOrder=null;loading=!1;constructor(){n(this)}setOrders(r){this.orders=r}setCurrentOrder(r){this.currentOrder=r}setLoading(r){this.loading=r}fetchMyOrders=async()=>{this.setLoading(!0);try{const r=await o.getMyOrders();return this.setOrders(r.data),r.data}catch(r){console.error("Error fetching orders:",r)}finally{this.setLoading(!1)}};createOrder=async r=>{this.setLoading(!0);try{return(await o.createOrder(r)).data}catch(e){throw console.error("Error creating order:",e),e}finally{this.setLoading(!1)}};cancelOrder=async r=>{try{const e=await o.cancelOrder(r);return this.orders=this.orders.map(a=>a.id===r?e.data:a),e.data}catch(e){throw console.error("Error canceling order:",e),e}}}const i=new c;export{i as o};
